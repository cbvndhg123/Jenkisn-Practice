pipeline
{

  agent any
  parameters{

    string(name:'SET_UP_NAME',defaultValue:'VBSC automation',description:' Optional tag names')
    string(name:'SECTION_IP',defaultValue:'CICD AUTOMATION', description:' Option for the project')

  }
  stages
  {
    stage('STEP 1'){
      steps{
        bat ' echo "Step 1 execution"'
        bat ' echo "List of all files"'
        bat ' dir '
      
      }
    }
    stage('STEP 2'){
      steps{
        bat ' echo "Step 2 exextion"'
      }
    }
  }

  post
  {
    always
    {
      bat 'echo "Post actions"'
    
      success {
          emailext(
              subject: "Build Success: ${env.JOB_NAME} #${env.BUILD_NUMBER}",
              body: "The build has completed successfully.\n\nJob: ${env.JOB_NAME}\nBuild Number: ${env.BUILD_NUMBER}\nMessage: Your custom message here.",
              recipientProviders: [[$class: 'DevelopersRecipientProvider']],
              to: 'recipient@example.com'
          )
        }
      failure {
          emailext(
              subject: "Build Failed: ${env.JOB_NAME} #${env.BUILD_NUMBER}",
              body: "The build has failed.\n\nJob: ${env.JOB_NAME}\nBuild Number: ${env.BUILD_NUMBER}\nMessage: Please check the logs for more details.",
              recipientProviders: [[$class: 'DevelopersRecipientProvider']],
              to: 'recipient@example.com'
          )
      }

    }

  }

}
